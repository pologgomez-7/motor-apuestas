<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IA Predictor v2.0</title>
    <style>
        body { background: #0b0e14; color: white; font-family: 'Segoe UI', sans-serif; display: flex; justify-content: center; padding: 20px; }
        .card { width: 100%; max-width: 450px; background: #161b22; padding: 30px; border-radius: 25px; border: 1px solid #30363d; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        input { width: 100%; padding: 15px; margin: 20px 0; border-radius: 12px; border: 1px solid #30363d; background: #0d1117; color: white; box-sizing: border-box; }
        button { width: 100%; padding: 15px; background: #238636; border: none; border-radius: 12px; color: white; font-weight: bold; cursor: pointer; font-size: 16px; }
        button:hover { background: #2ea043; }
        .res-box { margin-top: 25px; padding: 20px; border-radius: 15px; background: #21262d; border-left: 6px solid #238636; text-align: left; display: none; }
        .valor { color: #58a6ff; font-weight: bold; }
        .badge { background: #23863622; color: #3fb950; padding: 4px 10px; border-radius: 8px; font-size: 12px; float: right; }
    </style>
</head>
<body>
    <div class="card">
        <h2 style="margin:0">ü§ñ IA Predictor Pro</h2>
        <p style="color:#8b949e">Busca un equipo para analizar su pr√≥ximo partido</p>
        
        <input type="text" id="equipo" placeholder="Ej: Cali, Nacional, Real Madrid...">
        <button onclick="iniciarIA()">ANALIZAR PARTIDO</button>

        <div id="resultado" class="res-box"></div>
    </div>

    <script>
        async function iniciarIA() {
            const eq = document.getElementById('equipo').value;
            const resDiv = document.getElementById('resultado');
            if(!eq) return;

            resDiv.style.display = "block";
            resDiv.innerHTML = "üß† La IA est√° procesando estad√≠sticas hist√≥ricas...";

            try {
                const response = await fetch(`/api/index?team=${eq}`);
                const d = await response.json();

                if(d.error) {
                    resDiv.innerHTML = `<p style="color:#f85149">‚ùå ${d.error}</p>`;
                    return;
                }

                resDiv.innerHTML = `
                    <div style="margin-bottom:15px; font-size:14px; color:#8b949e">PR√ìXIMO: ${d.partido_titulo}</div>
                    <p>üèÜ Ganador: <span class="valor">${d.ganador_pick}</span> <span class="badge">${d.ganador_porcentaje}</span></p>
                    <p>‚öΩ Goles: <span class="valor">${d.goles_pick}</span> <span class="badge">${d.goles_porcentaje}</span></p>
                    <p>üö© C√≥rneres: <span class="valor">${d.corners_pick}</span> <span class="badge">${d.corners_porcentaje}</span></p>
                    <hr style="border:0; border-top:1px solid #30363d; margin:15px 0;">
                    <small style="color:#8b949e">ü§ñ ${d.dato_ia}</small>
                `;
            } catch (e) {
                resDiv.innerHTML = "<p style='color:#f85149'>‚ùå Error: El cerebro no responde.</p>";
            }
        }
    </script>
</body>
</html>
